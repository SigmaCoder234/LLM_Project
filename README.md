# ü§ñ –ú–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ Telegram

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –Ω–∞ –±–∞–∑–µ GigaChat API.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ó–∞–ø—É—Å–∫ –ê–≥–µ–Ω—Ç–∞ ‚Ññ1](#–∑–∞–ø—É—Å–∫-–∞–≥–µ–Ω—Ç–∞-1)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-api)
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–ª–æ–≥–∏)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 –∞–≥–µ–Ω—Ç–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ:

```
Telegram Bot ‚Üí –ê–≥–µ–Ω—Ç ‚Ññ1 ‚Üí –ê–≥–µ–Ω—Ç ‚Ññ2 ‚Üí –ê–≥–µ–Ω—Ç ‚Ññ3 ‚Üí –ê–≥–µ–Ω—Ç ‚Ññ4 ‚Üí –ê–≥–µ–Ω—Ç ‚Ññ5
     ‚Üì             ‚Üì           ‚Üì           ‚Üì           ‚Üì           ‚Üì
  –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö   –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ê–Ω–∞–ª–∏–∑    –î–µ–π—Å—Ç–≤–∏—è    –ê—É–¥–∏—Ç     –≠—Å–∫–∞–ª–∞—Ü–∏—è
   (SQLite)      + GigaChat   –∫–æ–Ω—Ç–µ–Ω—Ç–∞  –º–æ–¥–µ—Ä–∞—Ü–∏–∏  –æ—Ç—á–µ—Ç—ã    —Å–ø–æ—Ä–Ω—ã–µ
```

### –ê–≥–µ–Ω—Ç ‚Ññ1 - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∏ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω** - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —á–∞—Ç–∞
- ‚úÖ **GigaChat –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ –ò–ò
- ‚úÖ **Redis –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è** - –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—á–µ—Ä–µ–¥—å –¥–ª—è –¥—Ä—É–≥–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ **REST API** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ batch –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - health checks, –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Python 3.8+**
- **Windows 10/11** (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Windows)
- **4 –ì–ë RAM** (–º–∏–Ω–∏–º—É–º)
- **100 –ú–ë** —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
```txt
fastapi==0.104.1
uvicorn[standard]==0.24.0
httpx==0.25.2
loguru==0.7.2
redis==5.0.1
```

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- **Redis Server** (–¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏)
- **GigaChat API** (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤)

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
git clone <repository-url>
cd telegram-moderation-system
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install fastapi uvicorn[standard] httpx loguru redis
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis Server

#### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://github.com/microsoftarchive/redis/releases
2. –°–∫–∞—á–∞–π—Ç–µ `Redis-x64-3.0.504.msi`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
4. **–í–∞–∂–Ω–æ**: –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ—Ä—Ç **6379** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
5. –í–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏—é **"Add Redis to the Windows Firewall exception list"**

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Redis:
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ CMD –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
redis-cli ping
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: PONG
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ GigaChat API –∫–ª—é—á–∞

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://giga.chat
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ **–°–±–µ—Ä ID**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"–ü—Ä–æ—Ñ–∏–ª—å"** ‚Üí **"GigaChat API"** ‚Üí **"–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"**
4. –ü–æ–ø–∞–¥–µ—Ç–µ –≤ https://developers.sber.ru/studio

#### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
1. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"GigaChat API"**
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
4. –í —Å–µ–∫—Ü–∏–∏ **"–î–æ—Å—Ç—É–ø –∫ API"** –Ω–∞–∂–º–∏—Ç–µ **"–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø"**
5. –ù–∞–∂–º–∏—Ç–µ **"–ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á"**

#### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π:
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ:
- **Authorization Key** - —ç—Ç–æ –≤–∞—à `GIGACHAT_CREDENTIALS`
- **Client ID** –∏ **Client Secret** (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –ö–ª—é—á–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### Windows CMD:
```cmd
set GIGACHAT_CREDENTIALS=MDE5YTJhZjEtYjhjOS03OTViLWFlZjEtZTg4MTgxNjQzNzdjOmE0MzRhNjExLTE2NGYtNDdjYS1iNTM2LThlMGViMmU0YzVmNg==
set REDIS_URL=redis://localhost:6379
set API_HOST=127.0.0.1
set API_PORT=8001
```

#### Windows PowerShell:
```powershell
$env:GIGACHAT_CREDENTIALS="MDE5YTJhZjEtYjhjOS03OTViLWFlZjEtZTg4MTgxNjQzNzdjOmE0MzRhNjExLTE2NGYtNDdjYS1iNTM2LThlMGViMmU0YzVmNg=="
$env:REDIS_URL="redis://localhost:6379"
$env:API_HOST="127.0.0.1"
$env:API_PORT="8001"
```

### –°–æ–∑–¥–∞–Ω–∏–µ bat-—Ñ–∞–π–ª–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ `run_agent1.bat`:
```bat
@echo off
set GIGACHAT_CREDENTIALS=–≤–∞—à_authorization_key_—Å—é–¥–∞
set REDIS_URL=redis://localhost:6379
set API_HOST=127.0.0.1
set API_PORT=8001
python agent1_fixed.py
pause
```

## üöÄ –ó–∞–ø—É—Å–∫ –ê–≥–µ–Ω—Ç–∞ ‚Ññ1

### –ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ bat-—Ñ–∞–π–ª
```cmd
run_agent1.bat
```

### –ú–µ—Ç–æ–¥ 2: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
```cmd
python agent1_fixed.py
```

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—É—Å–∫–µ:
```
17:56:01 | INFO | üöÄ –ó–∞–ø—É—Å–∫ –ß–∞—Ç-–∞–≥–µ–Ω—Ç–∞ ‚Ññ1 (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)...
17:56:01 | INFO | üîë –ò—Å–ø–æ–ª—å–∑—É–µ–º GIGACHAT_CREDENTIALS: MDE5YTJhZjEt...
17:56:01 | INFO | üîß GigaChat –∫–ª–∏–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
17:56:01 | INFO | üîó –ö–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Redis: redis://localhost:6379
17:56:01 | INFO | üöÄ –ß–∞—Ç-–∞–≥–µ–Ω—Ç ‚Ññ1 –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
17:56:01 | SUCCESS | ‚úÖ –ê–≥–µ–Ω—Ç ‚Ññ1 –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
INFO:     Uvicorn running on http://127.0.0.1:8001 (Press CTRL+C to quit)
```

‚ö†Ô∏è **–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É Redis** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–µ–∑ Redis

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8001/health

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "agent_id": "agent_1",
  "status": "healthy",
  "redis_status": "connected",
  "gigachat_token_status": "not_obtained",
  "api_status": "healthy"
}
```

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ API
http://localhost:8001/

### –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
http://localhost:8001/metrics

### –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

#### –ß–µ—Ä–µ–∑ Python (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
–°–æ–∑–¥–∞–π—Ç–µ `test_agent1.py`:
```python
import requests
import json

# –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
data = {
    "telegram_message": {
        "message_id": 1,
        "chat_id": -1001234567890,
        "sender_id": 12345,
        "message_text": "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
    },
    "prompt": "–û–±—Ä–∞–±–æ—Ç–∞–π —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º —á–∞—Ç–∞",
    "chat_rules": {
        "moderation_enabled": True,
        "max_message_length": 1000,
        "forbidden_words": ["—Å–ø–∞–º", "—Ä–µ–∫–ª–∞–º–∞"]
    }
}

# –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
try:
    response = requests.post(
        "http://localhost:8001/process_message", 
        json=data, 
        timeout=30
    )
    
    print(f"–°—Ç–∞—Ç—É—Å: {response.status_code}")
    print("–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏:")
    print(json.dumps(response.json(), ensure_ascii=False, indent=2))
    
except requests.exceptions.RequestException as e:
    print(f"–û—à–∏–±–∫–∞: {e}")
```

–ó–∞–ø—É—Å–∫:
```cmd
python test_agent1.py
```

#### –ß–µ—Ä–µ–∑ PowerShell:
```powershell
Invoke-RestMethod -Uri "http://localhost:8001/process_message" -Method POST -ContentType "application/json" -Body '{
  "telegram_message": {
    "message_id": 1,
    "chat_id": -1001234567890,
    "sender_id": 12345,
    "message_text": "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
  },
  "prompt": "–û–±—Ä–∞–±–æ—Ç–∞–π —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º —á–∞—Ç–∞"
}'
```

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞:
```json
{
  "originalMessage": "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?",
  "processedPrompt": "–û–±—Ä–∞–±–æ—Ç–∞–π —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º —á–∞—Ç–∞",
  "responseText": "–ü—Ä–∏–≤–µ—Ç! –£ –º–µ–Ω—è –≤—Å—ë —Ö–æ—Ä–æ—à–æ, —Å–ø–∞—Å–∏–±–æ!",
  "message_id": 1,
  "chat_id": -1001234567890,
  "sender_id": 12345,
  "normalized_text": "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?",
  "rules_applied": [],
  "confidence_score": 0.85,
  "processing_time_ms": 1250,
  "correlation_id": "abc123-def456-ghi789"
}
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤
```
logs/
‚îú‚îÄ‚îÄ agent_1_2025-10-28.log  # –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ª–æ–≥–∏
‚îú‚îÄ‚îÄ agent_1_2025-10-29.log
‚îî‚îÄ‚îÄ ...
```

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```
17:56:05 | SUCCESS | üîë –ü–æ–ª—É—á–µ–Ω –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω GigaChat
17:56:06 | SUCCESS | ü§ñ GigaChat –æ—Ç–≤–µ—Ç: '–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?' (17 —Å–∏–º–≤–æ–ª–æ–≤)
17:56:06 | SUCCESS | üì§ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ê–≥–µ–Ω—Ç—É 2 | msg_id=1 | corr=abc123...
17:56:06 | SUCCESS | üéØ –°–æ–æ–±—â–µ–Ω–∏–µ 1 —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω–æ –ê–≥–µ–Ω—Ç—É 2
```

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- **processed_messages** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **error_rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
- **gigachat_requests** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ GigaChat
- **queue_to_agent_2_size** - —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –∫ –ê–≥–µ–Ω—Ç—É 2
- **uptime_seconds** - –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞

### API endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- `GET /health` - –±–∞–∑–æ–≤—ã–π health check
- `GET /metrics` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- `GET /` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "GIGACHAT_CREDENTIALS is required"
**–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ bat-—Ñ–∞–π–ª
```cmd
set GIGACHAT_CREDENTIALS=–≤–∞—à_–∫–ª—é—á_—Å—é–¥–∞
```

### –û—à–∏–±–∫–∞: "Error 10061 connecting to localhost:6379"
**–ü—Ä–∏—á–∏–Ω–∞**: Redis –Ω–µ –∑–∞–ø—É—â–µ–Ω  
**–†–µ—à–µ–Ω–∏–µ**:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Redis Server
2. –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å Redis –∑–∞–ø—É—â–µ–Ω –≤ Windows
3. –ò–ª–∏ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ - –∞–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ Redis

### –û—à–∏–±–∫–∞: HTTP 401 –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ GigaChat
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–≤–µ—Ä–Ω—ã–π Authorization Key  
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `GIGACHAT_CREDENTIALS`

### –ê–≥–µ–Ω—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8001
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç –Ω–µ –∑–∞–Ω—è—Ç: `netstat -an | findstr 8001`
2. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç: `set API_PORT=8002`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –¢–æ–∫–µ–Ω GigaChat –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–ª—é—á –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ê–≥–µ–Ω—Ç–∞ ‚Ññ1 –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫:

1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤** (2-5)
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram Bot API**
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite**
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª –º–æ–¥–µ—Ä–∞—Ü–∏–∏**

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–ø–∫–µ `logs/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ `/health` endpoint
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (Redis, –ê–≥–µ–Ω—Ç)

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**: 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 28 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å –ê–≥–µ–Ω—Ç–∞ ‚Ññ1**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω